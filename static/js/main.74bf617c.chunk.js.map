{"version":3,"sources":["apollo.js","useUser.js","components/auth/AuthLayout.js","screens/Home.js","components/auth/Button.js","components/auth/Separator.js","components/auth/Input.js","components/shared.js","components/auth/FormBox.js","components/auth/BottomBox.js","components/auth/HeaderContainer.js","routes.js","components/PageTitle.js","components/auth/FormError.js","screens/Login.js","screens/SignUp.js","screens/AddShop.js","screens/EditShop.js","screens/NotFound.js","styles.js","App.js","index.js"],"names":["TOKEN","DARK_MODE","isLoggedInVar","makeVar","Boolean","localStorage","getItem","logUserOut","history","removeItem","replace","window","location","reload","darkModeVar","enableDarkMode","setItem","disableDarkMode","httpLink","createHttpLink","uri","authLink","setContext","_","headers","token","client","ApolloClient","link","concat","cache","InMemoryCache","gql","useUser","Container","styled","div","Wrapper","Footer","footer","DarkModeBtn","span","AuthLayout","children","darkMode","useReactiveVar","onClick","icon","faSun","faMoon","Title","h1","props","theme","accent","ButtonContainer","LogoutBtn","button","AddShop","Link","fontColor","ShopContainer","Shop","borderColor","PROFILE_QUERY","Home","isLoggedIn","useHistory","data","useQuery","variables","username","to","seeProfile","shops","map","shop","id","name","latitude","longitude","categories","category","Button","input","disabled","SSeparator","Separator","Input","bgColor","hasError","BaseBox","FatLink","FormBox","SBottomBox","BottomBox","cta","linkText","HeaderContainer","routes","home","signUp","add","PageTitle","title","SFormError","FormError","message","FacebookLogin","facebook","Notification","LOGIN_MUTATION","Login","useLocation","useForm","mode","defaultValues","state","password","register","handleSubmit","errors","formState","getValues","setError","clearErrors","useMutation","onCompleted","login","ok","error","logUserIn","loading","clearLoginError","faMugHot","size","onSubmit","ref","required","minLength","value","onChange","type","placeholder","isValid","result","faFacebookSquare","Subtitle","CREATE_ACCOUNT_MUTATION","SignUp","createAccount","push","clearSignUpError","email","avatarURL","githubUsername","CREATE_COFFEESHOP_MUTATION","createCoffeeShop","clearAddShopError","categoryTxt","SEE_COFFEESHOP_QUERY","EDIT_COFFEESHOP_MUTATION","DELETE_COFFEESHOP_MUTATION","EditShop","strId","useParams","parseInt","shopData","seeCoffeeShop","join","onEditCompleted","editCoffeeShop","clearEditShopError","onDeleteCompleted","deleteCoffeeShop","NotFound","lightTheme","darkTheme","GlobalStyles","createGlobalStyle","reset","App","ApolloProvider","path","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.74bf617c.chunk.js","sourcesContent":["import { ApolloClient, createHttpLink, InMemoryCache, makeVar } from \"@apollo/client\";\nimport { setContext } from \"@apollo/client/link/context\";\n\nconst TOKEN = \"token\";\nconst DARK_MODE = \"DARK_MODE\";\n\nexport const isLoggedInVar = makeVar(Boolean(localStorage.getItem(TOKEN)));\nexport const logUserIn = (token) => {\n    localStorage.setItem(TOKEN, token);\n    isLoggedInVar(true);\n}\nexport const logUserOut = (history) => {\n    localStorage.removeItem(TOKEN);\n    history?.replace();\n    window.location.reload();\n}\n\nexport const darkModeVar = makeVar(Boolean(localStorage.getItem(DARK_MODE)));\nexport const enableDarkMode = () => {\n    localStorage.setItem(DARK_MODE, \"enabled\");\n    darkModeVar(true);\n};\nexport const disableDarkMode = () => {\n    localStorage.removeItem(DARK_MODE);\n    darkModeVar(false);\n};\n\nconst httpLink = createHttpLink({\n    uri: \"https://bomi-nomadcoffee-backend.herokuapp.com/graphql\",\n});\nconst authLink = setContext((_, { headers }) => {\n    return {\n        headers: {\n            ...headers,\n            token: localStorage.getItem(TOKEN),\n        }\n    }\n});\n\nexport const client = new ApolloClient({\n    link: authLink.concat(httpLink),\n    cache: new InMemoryCache(),\n});","import { gql, useQuery, useReactiveVar } from \"@apollo/client\";\nimport { useEffect } from \"react\";\nimport { isLoggedInVar, logUserOut } from \"./apollo\";\n\nconst ME_QUERY = gql`\nquery me{\n    me{\n        username\n        avatar\n    }\n}\n`;\n\nfunction useUser() {\n    const hasToken = useReactiveVar(isLoggedInVar);\n    const { data, loading, error } = useQuery(ME_QUERY, {\n        skip: !hasToken\n    });\n    useEffect(() => {\n        if (data?.me === null) {\n            logUserOut();\n        }\n    }, [data])\n    if (!loading) {\n        console.log(data, error);\n    }\n    return data;\n}\n\nexport default useUser;","import { useReactiveVar } from \"@apollo/client\";\nimport { faMoon, faSun } from \"@fortawesome/free-regular-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport styled from \"styled-components\";\nimport { darkModeVar, enableDarkMode, disableDarkMode } from \"../../apollo\";\n\nconst Container = styled.div`\n    display: flex;\n    height: 100vh;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n`;\nconst Wrapper = styled.div`\n    max-width: 350px;\n    width: 100%;\n`;\nconst Footer = styled.footer`\n    margin-top: 20px;\n`;\nconst DarkModeBtn = styled.span`\n    cursor: pointer;\n`;\n\nfunction AuthLayout({ children }) {\n    const darkMode = useReactiveVar(darkModeVar);\n    return (\n        <Container>\n            <Wrapper>{children}</Wrapper>\n            <Footer>\n                <DarkModeBtn onClick={darkMode ? disableDarkMode : enableDarkMode}>\n                    <FontAwesomeIcon icon={darkMode ? faSun : faMoon} />\n                </DarkModeBtn>\n            </Footer>\n        </Container>\n    );\n}\n\nexport default AuthLayout;","import styled from \"styled-components\";\nimport { isLoggedInVar, logUserOut, darkModeVar } from \"..//apollo\";\nimport { useReactiveVar, gql, useQuery } from \"@apollo/client\";\nimport { useHistory, Link } from \"react-router-dom\";\nimport useUser from \"../useUser\";\nimport AuthLayout from \"../components/auth/AuthLayout\";\n\nconst Title = styled.h1`\n    font-size: 50px;\n    font-weight: bold;\n    text-align: center;\n    color: ${props => props.theme.accent};\n`;\nconst ButtonContainer = styled.div`\n    display: flex;\n    justify-content: center;\n    margin: 10px;\n`;\nconst LogoutBtn = styled.button`\n    background: none;\n    border: 1px solid ${props => props.theme.accent};\n    border-radius: 5px;\n    padding: 5px;\n    margin: 5px;\n    font-weight: bold;\n`;\nconst AddShop = styled(Link)`\n    border: 1px solid ${props => props.theme.accent};\n    border-radius: 5px;\n    padding: 5px;\n    color: ${props => props.theme.fontColor};\n    margin: 5px;\n    font-weight: bold;\n`;\nconst ShopContainer = styled.div`\n    margin: 10px;\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n    grid-gap: 10px;\n`;\nconst Shop = styled(Link)`\n    border: 1px solid ${props => props.theme.borderColor};\n    color: ${props => props.theme.fontColor};\n    border-radius: 5px;\n    padding: 10px;\n    box-sizing: border-box;\n    text-align: center;\n    h3{\n        color: ${props => props.theme.fontColor};\n        font-size: 20px;\n        color: ${props => props.theme.accent};\n        font-weight: bold;\n    }\n    div {\n        margin: 5px;\n    }\n    span {\n        color: ${props => props.theme.accent};\n        font-weight: bold;\n    }\n`;\n\nconst PROFILE_QUERY = gql`\n    query seeProfile($username: String!) {\n        seeProfile(username: $username){\n            shops{\n                id\n                name\n                latitude\n                longitude\n                categories{name}\n            }\n        }\n    }\n`;\n\nfunction Home() {\n    const darkMode = useReactiveVar(darkModeVar);\n    const isLoggedIn = useReactiveVar(isLoggedInVar);\n    const history = useHistory();\n    const username = \"hibomi97\";\n    const { data } = useQuery(PROFILE_QUERY, {\n        variables: { username }\n    })\n    return (\n        <AuthLayout>\n            <Title>Welcome!</Title>\n            <ButtonContainer>\n                <LogoutBtn onClick={() => logUserOut(history)}>Log out now!</LogoutBtn>\n                {isLoggedIn && <AddShop to=\"/add\">Add Coffeeshop</AddShop>}\n            </ButtonContainer>\n            <ShopContainer>\n                {data?.seeProfile?.shops?.map(shop =>\n                    <Shop to={`/shop/${shop.id}`} >\n                        <h3>{shop.name}</h3>\n                        <div>Location: {shop.latitude}, {shop.longitude}</div>\n                        <div>\n                            {shop.categories?.map(category =>\n                                <span>{category.name} </span>\n                            )}\n                        </div>\n                    </Shop>)\n                }\n            </ShopContainer>\n        </AuthLayout>\n    );\n}\n\nexport default Home;","import styled from \"styled-components\";\n\nconst Button = styled.input`\n    border: none;\n    margin-top: 12px;\n    background-color: ${props => props.theme.accent};\n    color: white;\n    text-align: center;\n    padding: 8px 0px;\n    font-weight: 600;\n    width: 100%;\n    opacity: ${props => props.disabled ? \"0.3\" : \"1\"};\n`;\n\nexport default Button;","import styled from \"styled-components\";\n\nconst SSeparator = styled.div`\n    margin: 20px 0px 30px 0px;\n    text-transform: uppercase;\n    display: flex;\n    justify-content: center;\n    width: 100%;\n    align-items: center;\n    div {\n        width: 100%;\n        height: 1px;\n        background-color: ${(props) => props.theme.borderColor};\n    }\n    span {\n        margin: 0px 10px;\n        font-weight: 600;\n        font-size: 12px;\n        color: #8e8e8e;\n    }\n`;\n\nfunction Separator() {\n    return (\n        <SSeparator>\n            <div></div>\n            <span>Or</span>\n            <div></div>\n        </SSeparator>\n    );\n}\n\nexport default Separator;","import styled from \"styled-components\";\n\nconst Input = styled.input`\n    width: 100%;\n    border-radius: 3px;\n    padding: 7px;\n    background-color: ${(props) => props.theme.bgColor};\n    border: 0.5px solid ${(props) => (props.hasError ? \"tomato\" : props.theme.borderColor)};\n    margin-top: 5px;\n    box-sizing: border-box;\n    &::placeholder {\n        font-size: 12px;\n    }\n    &:focus {\n        border-color: rgb(38, 38, 38);\n    }\n`;\n\nexport default Input;","import styled from \"styled-components\";\n\nexport const BaseBox = styled.div`\n  background-color: ${(props) => props.theme.bgColor};\n  border: 1px solid rgb(219, 219, 219);\n  width: 100%;\n`;\n\nexport const FatLink = styled.div`\n  font-weight: 600;\n  color: rgb(142, 142, 142);\n`;","import styled from \"styled-components\";\nimport { BaseBox } from \"../shared\";\n\nconst FormBox = styled(BaseBox)`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  padding: 35px 40px 25px 40px;\n  margin-bottom: 10px;\n  form {\n    margin-top: 35px;\n    width: 100%;\n    display: flex;\n    justify-items: center;\n    flex-direction: column;\n    align-items: center;\n  }\n`;\n\nexport default FormBox;","import styled from \"styled-components\";\nimport { Link } from \"react-router-dom\";\nimport { BaseBox } from \"../shared\";\n\nconst SBottomBox = styled(BaseBox)`\n  padding: 20px 0px;\n  text-align: center;\n  a {\n    font-weight: 600;\n    margin-left: 5px;\n    color: ${props => props.theme.accent};\n  }\n`;\n\nfunction BottomBox({ cta, link, linkText }) {\n    return (\n        <SBottomBox>\n            <span>{cta}</span>\n            <Link to={link}>{linkText}</Link>\n        </SBottomBox>\n    );\n}\n\nexport default BottomBox;","import styled from \"styled-components\";\n\nconst HeaderContainer = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    color: ${props => props.theme.accent};\n    h1 {\n        font-size: 25px;\n        padding-top: 5px;\n        font-family: 'Nanum Pen Script', cursive;\n    }\n`;\n\nexport default HeaderContainer;","const routes = {\n    home: \"/\",\n    signUp: \"/sign-up\",\n    add: \"/add\",\n    shop: \"/shop/:id\"\n};\n\nexport default routes;","import { PropTypes } from \"prop-types\";\nimport { Helmet } from \"react-helmet-async\";\n\nfunction PageTitle({ title }) {\n    return (\n        <Helmet>\n            <title>\n                {title} | Instaclone\n            </title>\n        </Helmet>\n    );\n}\n\nPageTitle.propTypes = {\n    title: PropTypes.string.isRequired,\n};\n\nexport default PageTitle;","import styled from \"styled-components\";\n\nconst SFormError = styled.span`\n    color:tomato;\n    font-weight: 600;\n    font-size: 12px;\n    margin: 5px 0px 10px 0px;\n`;\n\nfunction FormError({ message }) {\n    return (message === \"\" || !message) ? null : <SFormError>{message}</SFormError>;\n}\n\nexport default FormError;","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faMugHot } from '@fortawesome/free-solid-svg-icons'\nimport { faFacebookSquare } from \"@fortawesome/free-brands-svg-icons\";\nimport styled from \"styled-components\";\nimport AuthLayout from \"../components/auth/AuthLayout\";\nimport Button from \"../components/auth/Button\";\nimport Separator from \"../components/auth/Separator\";\nimport Input from \"../components/auth/Input\";\nimport FormBox from \"../components/auth/FormBox\";\nimport BottomBox from \"../components/auth/BottomBox\";\nimport HeaderContainer from \"../components/auth/HeaderContainer\";\nimport routes from \"../routes\";\nimport { useForm } from \"react-hook-form\";\nimport PageTitle from \"../components/PageTitle\";\nimport FormError from \"../components/auth/FormError\";\nimport { useMutation, gql } from \"@apollo/client\";\nimport { logUserIn } from \"../apollo\";\nimport { useLocation } from 'react-router-dom';\n\nconst FacebookLogin = styled.div`\n  color: ${props => props.theme.facebook};\n  span {\n    margin-left: 10px;\n    font-weight: 600;\n  }\n`;\nconst Notification = styled.div`\n  color: #2ecc71;\n`;\n\nconst LOGIN_MUTATION = gql`\n  mutation login($username: String! $password: String!){\n    login(username: $username, password: $password){\n      ok\n      token\n      error\n    }\n  }\n`;\n\nfunction Login() {\n  const location = useLocation();\n  const {\n    register,\n    handleSubmit,\n    errors,\n    formState,\n    getValues,\n    setError,\n    clearErrors\n  } = useForm({\n    mode: \"onChange\",\n    defaultValues: {\n      username: location?.state?.username || \"\",\n      password: location?.state?.password || \"\"\n    }\n  });\n  const onCompleted = (data) => {\n    const { login: { ok, error, token } } = data;\n    if (!ok) {\n      setError(\"result\", {\n        message: error,\n      })\n    }\n    if (token) {\n      logUserIn(token);\n    }\n  };\n  const [login, { loading }] = useMutation(LOGIN_MUTATION, { onCompleted, });\n  const onSubmitValid = (data) => {\n    if (loading) { return; }\n    const { username, password } = getValues();\n    login({\n      variables: { username, password }\n    });\n  };\n  const clearLoginError = () => {\n    clearErrors(\"result\")\n  };\n  return (\n    <AuthLayout>\n      <PageTitle title=\"Login\" />\n      <FormBox>\n        <HeaderContainer>\n          <FontAwesomeIcon icon={faMugHot} size=\"3x\" />\n          <h1>Nomad Coffee</h1>\n        </HeaderContainer>\n        <Notification>{location?.state?.message}</Notification>\n        <form onSubmit={handleSubmit(onSubmitValid)}>\n          <Input\n            ref={register({\n              required: \"Username is required.\",\n              minLength: {\n                value: 5,\n                message: \"Username should be longer than 5 chars.\",\n              },\n            })}\n            onChange={clearLoginError}\n            name=\"username\"\n            type=\"text\"\n            placeholder=\"Username\"\n            hasError={Boolean(errors?.username?.message)}\n          />\n          <FormError message={errors?.username?.message} />\n          <Input\n            ref={register({\n              required: \"Password is required.\"\n            })}\n            onChange={clearLoginError}\n            name=\"password\"\n            type=\"password\"\n            placeholder=\"Password\"\n            hasError={Boolean(errors?.password?.message)}\n          />\n          <FormError message={errors?.password?.message} />\n          <Button\n            type=\"submit\"\n            value={loading ? \"Loading...\" : \"Log In\"}\n            disabled={!formState.isValid || loading}\n          />\n          <FormError message={errors?.result?.message} />\n        </form>\n        <Separator />\n        <FacebookLogin>\n          <FontAwesomeIcon icon={faFacebookSquare} />\n          <span>Log in with Facebook</span>\n        </FacebookLogin>\n      </FormBox>\n      <BottomBox\n        cta=\"Don't have an acount?\"\n        linkText=\"Sign up\"\n        link={routes.signUp}\n      />\n    </AuthLayout >\n  );\n}\n\nexport default Login;","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faMugHot } from '@fortawesome/free-solid-svg-icons'\nimport styled from \"styled-components\";\nimport AuthLayout from \"../components/auth/AuthLayout\";\nimport Button from \"../components/auth/Button\";\nimport Input from \"../components/auth/Input\";\nimport FormBox from \"../components/auth/FormBox\";\nimport BottomBox from \"../components/auth/BottomBox\";\nimport HeaderContainer from \"../components/auth/HeaderContainer\";\nimport routes from \"../routes\";\nimport { FatLink } from \"../components/shared\";\nimport PageTitle from \"../components/PageTitle\";\nimport { useForm } from \"react-hook-form\";\nimport { useMutation, gql } from \"@apollo/client\";\nimport { useHistory } from \"react-router-dom\";\nimport FormError from \"../components/auth/FormError\";\n\nconst Subtitle = styled(FatLink)`\n    font-size: 16px;\n    text-align: center;\n    margin-top: 10px;\n`;\nconst Notification = styled.div`\n  color: tomato;\n`;\n\nconst CREATE_ACCOUNT_MUTATION = gql`\n    mutation createAccount(\n        $username: String! \n        $email: String!\n        $name: String!\n        $location: String!\n        $password: String!\n        $avatarURL: String\n        $githubUsername: String!\n    ){\n    createAccount(\n        username: $username\n        email: $email\n        name: $name\n        location: $location\n        password: $password\n        avatarURL: $avatarURL\n        githubUsername: $githubUsername\n    ){\n        ok\n        error\n    }\n  }\n`;\n\nfunction SignUp() {\n    const history = useHistory();\n    const onCompleted = (data) => {\n        const { username, password } = getValues();\n        const { createAccount: { ok, error } } = data;\n        if (!ok) {\n            setError(\"result\", {\n                message: error,\n            })\n        } else {\n            history.push(routes.home, {\n                message: \"Account created. Please log in.\",\n                username,\n                password\n            });\n        }\n    };\n    const [createAccount, { loading }] = useMutation(CREATE_ACCOUNT_MUTATION, { onCompleted });\n    const {\n        register,\n        handleSubmit,\n        errors,\n        formState,\n        getValues,\n        setError,\n        clearErrors\n    } = useForm({\n        mode: \"onChange\"\n    });\n    const onSubmitValid = (data) => {\n        if (loading) { return; }\n        createAccount({\n            variables: {\n                ...data,\n            },\n        });\n    };\n    const clearSignUpError = () => {\n        clearErrors(\"result\")\n    };\n\n    return (\n        <AuthLayout>\n            <PageTitle title=\"Sign up\" />\n            <FormBox>\n                <HeaderContainer>\n                    <FontAwesomeIcon icon={faMugHot} size=\"3x\" />\n                    <Subtitle>\n                        Sign up to see photos and videos from your friends.\n                    </Subtitle>\n                </HeaderContainer>\n                <Notification>{errors?.result?.message}</Notification>\n                <form onSubmit={handleSubmit(onSubmitValid)}>\n                    <Input\n                        ref={register({\n                            required: \"Username is required.\",\n                            minLength: {\n                                value: 5,\n                                message: \"Username should be longer than 5 chars.\",\n                            },\n                        })}\n                        onChange={clearSignUpError}\n                        name=\"username\"\n                        type=\"text\"\n                        placeholder=\"*Username\"\n                        hasError={Boolean(errors?.username?.message)}\n                    />\n                    <FormError message={errors?.username?.message} />\n\n                    <Input\n                        ref={register({\n                            required: \"Password is required\",\n                        })}\n                        onChange={clearSignUpError}\n                        name=\"password\"\n                        type=\"password\"\n                        placeholder=\"*Password\"\n                        hasError={Boolean(errors?.password?.message)}\n                    />\n                    <FormError message={errors?.password?.message} />\n\n                    <Input\n                        ref={register({\n                            required: \"Email is required\",\n                        })}\n                        onChange={clearSignUpError}\n                        name=\"email\"\n                        type=\"text\"\n                        placeholder=\"*Email\"\n                        hasError={Boolean(errors?.email?.message)}\n                    />\n                    <FormError message={errors?.email?.message} />\n\n                    <Input\n                        ref={register({\n                            required: \"Name is required\",\n                        })}\n                        onChange={clearSignUpError}\n                        name=\"name\"\n                        type=\"text\"\n                        placeholder=\"*Name\"\n                        hasError={Boolean(errors?.name?.message)}\n                    />\n                    <FormError message={errors?.name?.message} />\n\n                    <Input\n                        ref={register({\n                            required: \"*Location is required\",\n                        })}\n                        onChange={clearSignUpError}\n                        name=\"location\"\n                        type=\"text\"\n                        placeholder=\"*Location\"\n                        hasError={Boolean(errors?.location?.message)}\n                    />\n                    <FormError message={errors?.location?.message} />\n\n                    <Input\n                        ref={register}\n                        onChange={clearSignUpError}\n                        name=\"avatarURL\"\n                        type=\"text\"\n                        placeholder=\"AvatarURL\"\n                        hasError={Boolean(errors?.avatarURL?.message)}\n                    />\n                    <FormError message={errors?.avatarURL?.message} />\n\n                    <Input\n                        ref={register({\n                            required: \"GithubUsername is required\",\n                        })}\n                        onChange={clearSignUpError}\n                        name=\"githubUsername\"\n                        type=\"text\"\n                        placeholder=\"*GithubUsername\"\n                        hasError={Boolean(errors?.githubUsername?.message)}\n                    />\n                    <FormError message={errors?.githubUsername?.message} />\n\n                    <Button\n                        type=\"submit\"\n                        value={loading ? \"Loading...\" : \"Sign up\"}\n                        disabled={!formState.isValid || loading}\n                    />\n                </form>\n            </FormBox>\n            <BottomBox\n                cta=\"Have an acount?\"\n                linkText=\"Log in\"\n                link={routes.home}\n            />\n        </AuthLayout>\n    );\n}\n\nexport default SignUp;","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faMugHot } from '@fortawesome/free-solid-svg-icons'\nimport styled from \"styled-components\";\nimport AuthLayout from \"../components/auth/AuthLayout\";\nimport Button from \"../components/auth/Button\";\nimport Input from \"../components/auth/Input\";\nimport FormBox from \"../components/auth/FormBox\";\nimport BottomBox from \"../components/auth/BottomBox\";\nimport HeaderContainer from \"../components/auth/HeaderContainer\";\nimport routes from \"../routes\";\nimport { FatLink } from \"../components/shared\";\nimport PageTitle from \"../components/PageTitle\";\nimport { useForm } from \"react-hook-form\";\nimport { useMutation, gql } from \"@apollo/client\";\nimport { useHistory } from \"react-router-dom\";\nimport FormError from \"../components/auth/FormError\";\n\nconst Subtitle = styled(FatLink)`\n    font-size: 16px;\n    text-align: center;\n    margin-top: 10px;\n`;\nconst Notification = styled.div`\n  color: tomato;\n`;\n\nconst CREATE_COFFEESHOP_MUTATION = gql`\n    mutation createCoffeeShop(\n        $name: String!\n        $latitude: String!\n        $longitude: String!\n        $categoryTxt: String\n    ){\n    createCoffeeShop(\n        name: $name\n        latitude: $latitude\n        longitude: $longitude\n        categoryTxt: $categoryTxt\n    ){\n        name\n    }\n  }\n`;\n\nfunction AddShop() {\n    const history = useHistory();\n    const onCompleted = (data) => {\n        const { createCoffeeShop: { ok, error } } = data;\n        if (!ok) {\n            setError(\"result\", {\n                message: error,\n            })\n        } else {\n            history.push(routes.home, {\n                message: \"Coffeeshop created.\",\n            });\n        }\n    }\n    const [createCoffeeShop, { loading }] = useMutation(CREATE_COFFEESHOP_MUTATION, { onCompleted });\n    const {\n        register,\n        handleSubmit,\n        errors,\n        formState,\n        setError,\n        clearErrors\n    } = useForm({\n        mode: \"onChange\"\n    });\n    const onSubmitValid = (data) => {\n        if (loading) { return; }\n        createCoffeeShop({\n            variables: {\n                ...data,\n            },\n        });\n    };\n    const clearAddShopError = () => {\n        clearErrors(\"result\")\n    };\n\n    return (\n        <AuthLayout>\n            <PageTitle title=\"Sign up\" />\n            <FormBox>\n                <HeaderContainer>\n                    <FontAwesomeIcon icon={faMugHot} size=\"3x\" />\n                    <Subtitle>\n                        Add CoffeeShop\n                    </Subtitle>\n                </HeaderContainer>\n                <Notification>{errors?.result?.message}</Notification>\n                <form onSubmit={handleSubmit(onSubmitValid)}>\n                    <Input\n                        ref={register({\n                            required: \"Name is required\",\n                        })}\n                        onChange={clearAddShopError}\n                        name=\"name\"\n                        type=\"text\"\n                        placeholder=\"*Name\"\n                        hasError={Boolean(errors?.name?.message)}\n                    />\n                    <FormError message={errors?.name?.message} />\n\n                    <Input\n                        ref={register({\n                            required: \"Latitude is required\",\n                        })}\n                        onChange={clearAddShopError}\n                        name=\"latitude\"\n                        type=\"text\"\n                        placeholder=\"*Latitude\"\n                        hasError={Boolean(errors?.latitude?.message)}\n\n                    />\n                    <FormError message={errors?.latitude?.message} />\n\n                    <Input\n                        ref={register({\n                            required: \"Longitude is required\",\n                        })}\n                        onChange={clearAddShopError}\n                        name=\"longitude\"\n                        type=\"text\"\n                        placeholder=\"*Longitude\"\n                        hasError={Boolean(errors?.longitude?.message)}\n\n                    />\n                    <FormError message={errors?.longitude?.message} />\n\n                    <Input\n                        ref={register}\n                        onChange={clearAddShopError}\n                        name=\"categoryTxt\"\n                        type=\"text\"\n                        placeholder=\"CategoryTxt\"\n                        hasError={Boolean(errors?.categoryTxt?.message)}\n                    />\n                    <FormError message={errors?.categoryTxt?.message} />\n\n                    <Button\n                        type=\"submit\"\n                        value={loading ? \"Loading...\" : \"Add\"}\n                        disabled={!formState.isValid || loading}\n                    />\n                </form>\n            </FormBox>\n        </AuthLayout>\n    );\n}\n\nexport default AddShop;","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faMugHot } from '@fortawesome/free-solid-svg-icons'\nimport styled from \"styled-components\";\nimport AuthLayout from \"../components/auth/AuthLayout\";\nimport Button from \"../components/auth/Button\";\nimport Input from \"../components/auth/Input\";\nimport FormBox from \"../components/auth/FormBox\";\nimport BottomBox from \"../components/auth/BottomBox\";\nimport HeaderContainer from \"../components/auth/HeaderContainer\";\nimport routes from \"../routes\";\nimport { FatLink } from \"../components/shared\";\nimport PageTitle from \"../components/PageTitle\";\nimport { useForm } from \"react-hook-form\";\nimport { useMutation, useQuery, gql } from \"@apollo/client\";\nimport FormError from \"../components/auth/FormError\";\nimport { useParams, useHistory } from 'react-router-dom';\n\nconst Subtitle = styled(FatLink)`\n    font-size: 16px;\n    text-align: center;\n    margin-top: 10px;\n`;\nconst Notification = styled.div`\n  color: tomato;\n`;\n\nconst SEE_COFFEESHOP_QUERY = gql`\n    query seeCoffeeShop($id: Int!){\n        seeCoffeeShop(id: $id){\n            name\n            latitude\n            longitude\n            categories{name}\n        }\n    }\n`;\nconst EDIT_COFFEESHOP_MUTATION = gql`\n    mutation EditCoffeeShop(\n        $id: Int!\n        $name: String!\n        $latitude: String!\n        $longitude: String!\n        $categoryTxt: String\n    ){\n    editCoffeeShop(\n        id: $id\n        name: $name\n        latitude: $latitude\n        longitude: $longitude\n        categoryTxt: $categoryTxt\n    ){\n        ok\n        error\n    }\n  }\n`;\nconst DELETE_COFFEESHOP_MUTATION = gql`\n    mutation DeteteCoffeeShop($id: Int!){\n        deleteCoffeeShop(id: $id){\n            ok\n            error\n        }\n    }\n`;\n\nfunction EditShop() {\n    const history = useHistory();\n\n    // see Coffeeshop\n    const { id: strId } = useParams();\n    const id = parseInt(strId);\n    const { data: shopData, loading: shopLoading } = useQuery(SEE_COFFEESHOP_QUERY, {\n        variables: { id }\n    });\n    let categoryTxt = \"\"\n    if (!shopLoading) {\n        categoryTxt = shopData.seeCoffeeShop.categories.map(category => category.name).join(\" \");\n    }\n\n    // Edit Coffeeshop\n    const onEditCompleted = (data) => {\n        const { editCoffeeShop: { ok, error } } = data;\n        if (!ok) {\n            setError(\"result\", {\n                message: error,\n            })\n        } else {\n            history.push(routes.home, {\n                message: \"Coffeeshop edited.\",\n            });\n        }\n    }\n    const [editCoffeeShop, { loading }] = useMutation(EDIT_COFFEESHOP_MUTATION, { onEditCompleted });\n    const {\n        register,\n        handleSubmit,\n        errors,\n        formState,\n        setError,\n        clearErrors\n    } = useForm({\n        mode: \"onChange\",\n        defaultValues: {\n            name: shopData?.seeCoffeeShop?.name || \"\",\n            latitude: shopData?.seeCoffeeShop?.latitude || \"\",\n            longitude: shopData?.seeCoffeeShop?.longitude || \"\",\n            categoryTxt: categoryTxt || \"\",\n        }\n    });\n    const onSubmitValid = (data) => {\n        if (loading) { return; }\n        editCoffeeShop({\n            variables: {\n                id,\n                ...data,\n            },\n        });\n    };\n    const clearEditShopError = () => {\n        clearErrors(\"result\")\n    };\n\n    // Delete Coffeeshop\n    const onDeleteCompleted = (data) => {\n        const { editCoffeeShop: { ok, error } } = data;\n        if (!ok) {\n            setError(\"result\", {\n                message: error,\n            })\n        } else {\n            history.push(routes.home, {\n                message: \"Coffeeshop edited.\",\n            });\n        }\n    }\n    const [deleteCoffeeShop] = useMutation(DELETE_COFFEESHOP_MUTATION, { onDeleteCompleted });\n    const deleteShop = () => {\n        const data = deleteCoffeeShop({\n            variables: {\n                id\n            },\n        });\n        // const { deleteCoffeeShop: { ok } } = data;\n        // if (!ok) { return; }\n        // history.push(routes.home, {\n        //     message: \"Deleted Coffeeshop.\",\n        // });\n    }\n\n    return (\n        <AuthLayout>\n            <PageTitle title=\"Sign up\" />\n            <FormBox>\n                <HeaderContainer>\n                    <FontAwesomeIcon icon={faMugHot} size=\"3x\" />\n                    <Subtitle>\n                        Edit CoffeeShop\n                    </Subtitle>\n                </HeaderContainer>\n                <Notification>{errors?.result?.message}</Notification>\n                <form onSubmit={handleSubmit(onSubmitValid)}>\n                    {loading ? null : <>\n                        <Input\n                            ref={register({\n                                required: \"Name is required\",\n                            })}\n                            onChange={clearEditShopError}\n                            name=\"name\"\n                            type=\"text\"\n                            placeholder=\"*Name\"\n                            hasError={Boolean(errors?.name?.message)}\n                        />\n                        <FormError message={errors?.name?.message} />\n\n                        <Input\n                            ref={register({\n                                required: \"Latitude is required\",\n                            })}\n                            onChange={clearEditShopError}\n                            name=\"latitude\"\n                            type=\"text\"\n                            placeholder=\"*Latitude\"\n                            hasError={Boolean(errors?.latitude?.message)}\n\n                        />\n                        <FormError message={errors?.latitude?.message} />\n\n                        <Input\n                            ref={register({\n                                required: \"Longitude is required\",\n                            })}\n                            onChange={clearEditShopError}\n                            name=\"longitude\"\n                            type=\"text\"\n                            placeholder=\"*Longitude\"\n                            hasError={Boolean(errors?.longitude?.message)}\n\n                        />\n                        <FormError message={errors?.longitude?.message} />\n\n                        <Input\n                            ref={register}\n                            onChange={clearEditShopError}\n                            name=\"categoryTxt\"\n                            type=\"text\"\n                            placeholder=\"CategoryTxt\"\n                            hasError={Boolean(errors?.categoryTxt?.message)}\n                        />\n                        <FormError message={errors?.categoryTxt?.message} />\n\n                        <Button\n                            type=\"submit\"\n                            value={loading ? \"Loading...\" : \"Edit\"}\n                            disabled={!formState.isValid || loading}\n                        />\n                        <Button\n                            value={loading ? \"Loading...\" : \"Delete\"}\n                            onClick={deleteShop}\n                        />\n                    </>}\n                </form>\n            </FormBox>\n        </AuthLayout>\n    );\n}\n\nexport default EditShop;","function NotFound() {\n    return <h1>404 Not Found</h1>;\n}\n\nexport default NotFound;","import { createGlobalStyle } from \"styled-components\";\nimport reset from 'styled-reset';\n\nexport const lightTheme = {\n  accent: \"chocolate\",\n  bgColor: \"#FAFAFA\",\n  fontColor: \"rgb(38, 38, 38)\",\n  borderColor: \"rgb(219, 219, 219)\",\n  facebook: \"#385285\",\n};\n\nexport const darkTheme = {\n  accent: \"chocolate\",\n  fontColor: \"white\",\n  bgColor: \"#2c2c2c\",\n  borderColor: \"rgb(219, 219, 219)\",\n  facebook: \"#0095f6\",\n};\n\nexport const GlobalStyles = createGlobalStyle`\n    ${reset}\n    * {\n      box-sizing:border-box;\n    }\n    body {\n        background-color: ${props => props.theme.bgColor};\n        font-size:14px;\n        font-family: 'Nanum Gothic', sans-serif;\n        color: ${props => props.theme.fontColor};\n    }\n    input {\n      all:unset;\n    }\n    a {\n      all:unset;\n      cursor: pointer;\n    }\n    button {\n      all:unset;\n      cursor: pointer;\n    }\n`;","import { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Home from \"./screens/Home\";\nimport Login from \"./screens/Login\";\nimport SignUp from \"./screens/SignUp\";\nimport AddShop from \"./screens/AddShop\"\nimport EditShop from \"./screens/EditShop\"\nimport NotFound from \"./screens/NotFound\";\nimport { isLoggedInVar, darkModeVar } from \"./apollo\";\nimport { ApolloProvider, useReactiveVar } from \"@apollo/client\";\nimport { ThemeProvider } from \"styled-components\";\nimport { darkTheme, GlobalStyles, lightTheme } from \"./styles\";\nimport routes from \"./routes\";\nimport { HelmetProvider } from \"react-helmet-async\";\nimport { client } from \"./apollo\";\n\nfunction App() {\n  const isLoggedIn = useReactiveVar(isLoggedInVar);\n  const darkMode = useReactiveVar(darkModeVar);\n  return (\n    <ApolloProvider client={client}>\n      <HelmetProvider>\n        <ThemeProvider theme={darkMode ? darkTheme : lightTheme} >\n          <GlobalStyles />\n          <Router>\n            <Switch>\n              <Route path={routes.home} exact>\n                {isLoggedIn ? <Home /> : <Login />}\n              </Route>\n              <Route path={routes.signUp}>\n                <SignUp />\n              </Route>\n              {isLoggedIn ?\n                <>\n                  <Route path={routes.add}>\n                    <AddShop />\n                  </Route>\n                  <Route path={routes.shop}>\n                    <EditShop />\n                  </Route>\n                </>\n                : null}\n              <Route>\n                <NotFound />\n              </Route>\n            </Switch>\n          </Router>\n        </ThemeProvider>\n      </HelmetProvider>\n    </ApolloProvider>\n  );\n}\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}